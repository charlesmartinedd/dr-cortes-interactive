<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The story of Dr. Carlos E. Cort&eacute;s — seven decades of building bridges through multicultural education, diversity scholarship, and creative storytelling.">
    <title>Dr. Carlos E. Cort&eacute;s — Seven Decades of Bridge-Building</title>

    <!-- Fonts - Playfair Display for headings, Source Sans 3 for body -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Source+Sans+3:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/chat-panel.css">

    <!-- GSAP for timeline animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text" data-i18n="loading">Loading Timeline...</p>
        </div>
    </div>

    <!-- Sticky Header -->
    <header class="site-header" id="site-header">
        <div class="header-content">
            <a href="#hero" class="site-title">
                <span class="title-primary">Dr. Carlos E. Cort&eacute;s</span>
            </a>
            <nav class="header-nav">
                <a href="#hero" class="nav-link active" data-section="hero" data-i18n="nav_home">Home</a>
                <a href="#timeline" class="nav-link" data-section="timeline" data-i18n="nav_timeline">Timeline</a>
                <a href="#story" class="nav-link" data-section="story" data-i18n="nav_story">Story</a>
                <a href="#ask" class="nav-link" data-section="ask" data-i18n="nav_ask">Ask</a>
                <a href="#works" class="nav-link" data-section="works" data-i18n="nav_works">Works</a>
                <!-- Language Switcher -->
                <div class="lang-switcher" id="lang-switcher">
                    <button class="lang-btn active" data-lang="en" title="English">EN</button>
                    <button class="lang-btn" data-lang="es" title="Espa&ntilde;ol">ES</button>
                    <button class="lang-btn" data-lang="pt" title="Portugu&ecirc;s">PT</button>
                </div>
                <!-- Theme Toggle -->
                <button class="nav-btn theme-toggle" id="theme-toggle" aria-label="Toggle light/dark mode">
                    <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <button class="nav-btn" id="btn-search" aria-label="Search works">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>

    <!-- ==================== SECTION 1: HERO ==================== -->
    <section id="hero" class="section section-hero">
        <div class="hero-content">
            <p class="hero-hook" data-i18n="hero_hook">We live in a world shaped by how we understand each other.</p>
            <h1 class="hero-title">Dr. Carlos E. Cort&eacute;s</h1>
            <p class="hero-subtitle" data-i18n="hero_subtitle">This is the story of one man who spent seven decades building bridges.</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number" data-target="70">0</span>
                    <span class="hero-stat-label" data-i18n="stat_years">Years</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number" data-target="85">0</span>
                    <span class="hero-stat-label" data-i18n="stat_milestones">Milestones</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number" data-target="7">0</span>
                    <span class="hero-stat-label" data-i18n="stat_decades">Decades</span>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <span data-i18n="scroll_explore">Scroll to explore</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M19 12l-7 7-7-7"></path>
            </svg>
        </div>
    </section>

    <!-- ==================== SECTION 2: HORIZONTAL TIMELINE ==================== -->
    <section id="timeline" class="section section-timeline">
        <div class="section-inner">
            <p class="section-intro" data-i18n="timeline_intro">You're about to travel through 70 years of scholarship, storytelling, and bridge-building.</p>
            <div class="timeline-container">
                <svg id="timeline-svg" class="timeline-svg" viewBox="0 0 1400 600">
                    <!-- Timeline rendered by JavaScript -->
                </svg>
            </div>
        </div>
    </section>

    <!-- ==================== SECTION 3: VERTICAL NARRATIVE TIMELINE ==================== -->
    <section id="story" class="section section-story">
        <div class="section-inner">
            <div id="narrative-timeline" class="narrative-timeline">
                <!-- Populated by NarrativeTimeline from timeline-data.json -->
            </div>
        </div>
    </section>

    <!-- ==================== SECTION 4: ASK DR. CORTES ==================== -->
    <section id="ask" class="section section-ask">
        <div class="section-inner">
            <div class="ask-header">
                <h2 class="ask-title" data-i18n="ask_title">Ask Dr. Cort&eacute;s</h2>
                <p class="ask-subtitle" data-i18n="ask_subtitle">Have a question about equity, curriculum design, or ethnic studies? I've spent my career in conversation — let's continue it here.</p>
            </div>

            <!-- Avatar Photo + Audio -->
            <div class="ask-avatar-container">
                <img src="assets/images/carlos-cortes.jpg" alt="Dr. Carlos E. Cort&eacute;s" class="ask-avatar-photo">
                <div class="avatar-speaking-wave" id="avatar-speaking-wave">
                    <span></span><span></span><span></span><span></span><span></span>
                </div>
                <div class="avatar-volume-control" id="avatar-volume-control">
                    <svg class="vol-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                    </svg>
                    <input type="range" class="vol-slider" id="chatbot-vol-slider" min="0" max="300" value="150" aria-label="Chatbot volume">
                </div>
                <div class="ask-avatar-status" id="avatar-status">
                    <div class="audio-indicator" id="audio-indicator">
                        <span></span><span></span><span></span>
                    </div>
                    <p id="status-text" data-i18n="chat_status">Ready to chat</p>
                </div>
                <audio id="tts-audio" autoplay></audio>
            </div>

            <!-- Prompt Chips -->
            <div class="prompt-chips" id="prompt-chips">
                <button class="prompt-chip" data-prompt="What inspired your work in multicultural education?" data-i18n="prompt_1" data-i18n-prompt="prompt_1_full">What inspired your work?</button>
                <button class="prompt-chip" data-prompt="Tell me about your experience with Dora the Explorer at Nickelodeon." data-i18n="prompt_2" data-i18n-prompt="prompt_2_full">Tell me about Dora</button>
                <button class="prompt-chip" data-prompt="What was it like growing up in an interracial family in the 1940s?" data-i18n="prompt_3" data-i18n-prompt="prompt_3_full">Growing up interracial</button>
                <button class="prompt-chip" data-prompt="What is the societal curriculum and why does it matter?" data-i18n="prompt_4" data-i18n-prompt="prompt_4_full">Societal curriculum</button>
            </div>

            <!-- Chat Messages -->
            <div id="chat-messages" class="chat-messages">
                <div class="chat-welcome">
                    <p data-i18n="chat_welcome">Start a conversation with Dr. Cort&eacute;s about his life's work in multicultural education.</p>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="chat-input-container">
                <input type="text" id="user-input" class="chat-input" placeholder="Ask Dr. Cort&eacute;s a question..." data-i18n-placeholder="chat_placeholder" disabled>
                <button id="send-btn" class="chat-send-btn" disabled aria-label="Send message">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>

            <!-- Reconnect (WebSocket only) -->
            <button id="connect-btn" class="chat-reconnect-btn hidden" data-i18n="reconnect">Reconnect</button>
        </div>
    </section>

    <!-- ==================== SECTION 5: SELECTED WORKS + CONTACT ==================== -->
    <section id="works" class="section section-works">
        <div class="section-inner">
            <h2 class="works-section-title" data-i18n="works_title">Complete Works & Recognition</h2>
            <p class="works-intro" data-i18n="works_intro">85 milestones across seven decades of learning to live together.</p>

            <div id="publications-grid" class="publications-grid">
                <!-- Populated by JS from timeline data -->
            </div>

            <div class="awards-section" id="awards-section">
                <h3 class="awards-title" data-i18n="awards_title">Awards & Honors</h3>
                <div id="awards-grid" class="awards-grid">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- Search Modal (kept from original) -->
    <div id="modal-search" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-overlay"></div>
        <div class="modal-container modal-medium">
            <button class="modal-close" aria-label="Close modal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <div class="modal-body">
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="search" id="search-input" class="search-input" placeholder="Search by title, category, year..." data-i18n-placeholder="search_placeholder" aria-label="Search works">
                    </div>
                    <div class="search-results" id="search-results">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Translation Data (ES/PT entry translations) -->
    <script src="assets/js/timeline-entries-es.js"></script>
    <script src="assets/js/timeline-entries-pt.js"></script>
    <script>
        // Expose translations globally for app.js
        window.ENTRIES_ES = typeof ENTRIES_ES !== 'undefined' ? ENTRIES_ES : {};
        window.ENTRIES_PT = typeof ENTRIES_PT !== 'undefined' ? ENTRIES_PT : {};
    </script>

    <!-- Main Application Script -->
    <script src="assets/js/app.js"></script>
    <!-- Chat Module -->
    <script type="module" src="assets/js/chat.js"></script>
</body>
</html>
